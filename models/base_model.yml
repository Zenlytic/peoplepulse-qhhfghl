name: peoplepulse_model
connection: demo
type: model
version: 1
fiscal_month_offset: 1
access_grants:
  - name: exec_only
    user_attribute: My Thing
    allowed_values:
      - Hey
mappings:
  channel:
    fields:
      - marketing_spend.channel
      - sales_pipeline.channel
    description: >-
      The marketing channel that the customer came through before entering the
      pipeline.
    group_label: Acquisition
  source:
    fields:
      - sales_pipeline.source
      - marketing_spend.source
    description: >-
      The marketing source that the customer came through before entering the
      pipeline.
    group_label: Acquisition
  campaign:
    fields:
      - sales_pipeline.campaign
      - marketing_spend.campaign
    description: >-
      The marketing campaign that the customer came through before entering the
      pipeline.
    group_label: Acquisition
relationships:
  - from_table: candy_shop_orders
    join_table: candy_shop_order_items
    relationship: one_to_many
    join_type: left_outer
    sql_on: ${candy_shop_orders.order_id}=${candy_shop_order_items.order_id}
  - from_table: candy_shop_orders
    join_table: left_outer
    join_type: left_outer
    relationship: many_to_one
    sql_on: ${candy_shop_orders.customer_id}=${candy_shop_customers.customer_id}
  - from_table: candy_shop_orders
    join_table: left_outer
    join_type: left_outer
    relationship: many_to_one
    sql_on: ${candy_shop_orders.customer_id}=${candy_shop_customers.customer_id}
  - from_table: candy_shop_orders
    join_table: left_outer
    join_type: left_outer
    relationship: many_to_one
    sql_on: ${candy_shop_orders.customer_id}=${candy_shop_customers.customer_id}
  - from_table: candy_shop_orders
    join_table: left_outer
    join_type: left_outer
    relationship: many_to_one
    sql_on: ${candy_shop_orders.customer_id}=${candy_shop_customers.customer_id}
