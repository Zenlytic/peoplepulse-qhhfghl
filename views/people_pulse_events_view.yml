version: 1
type: view
name: events
model_name: peoplepulse_model
description: >-
  The user id is a uuid for a unique person, and the customer id is the id of
  that person that connects to a known customer. These are events with the
  product.
sql_table_name: DEMO.DEMO_PROD_PEOPLE_PULSE.PEOPLE_PULSE_EVENTS
default_date: event_time
identifiers:
  - name: event_id
    type: primary
    sql: ${event_id}
  - name: user_id
    type: foreign
    sql: ${user_id}
  - name: customer_id
    type: foreign
    sql: ${customer_id}
fields:
  - name: user_id
    field_type: dimension
    type: number
    sql: ${TABLE}."USER_ID"
  - name: event_id
    field_type: dimension
    type: number
    sql: ${TABLE}."EVENT_ID"
    hidden: true
    primary_key: true
  - name: customer_id
    field_type: dimension
    type: number
    sql: ${TABLE}."CUSTOMER_ID"
  - name: browser
    field_type: dimension
    type: string
    sql: ${TABLE}."BROWSER"
    searchable: true
  - name: event_type
    field_type: dimension
    type: string
    sql: ${TABLE}."EVENT_TYPE"
    searchable: true
  - name: os
    field_type: dimension
    type: string
    sql: ${TABLE}."OS"
    searchable: true
  - name: device_type
    field_type: dimension
    type: string
    sql: ${TABLE}."DEVICE_TYPE"
    searchable: true
  - name: event_time
    field_type: dimension_group
    type: time
    datatype: timestamp
    timeframes:
      - raw
      - date
      - day_of_year
      - week
      - week_of_year
      - month
      - month_of_year
      - quarter
      - fiscal_month
      - fiscal_quarter
      - fiscal_quarter_of_year
      - fiscal_year
      - year
    sql: ${TABLE}."EVENT_TIME"
  - name: total_events
    field_type: measure
    type: count
    description: The total number of events recorded
    sql: ${event_id}
    value_format_name: decimal_0
  - name: unique_customers
    field_type: measure
    type: count_distinct
    description: The count of unique customers associated with the events
    sql: ${customer_id}
    value_format_name: decimal_0
